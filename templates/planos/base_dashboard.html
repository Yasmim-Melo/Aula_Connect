{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aula Connect - Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
        :root { --navy: #2C3444; --light-gray: #f8f9fa; }
        body { background-color: white; font-family: 'Inter', sans-serif; overflow-x: hidden; }
        
        /* Sidebar */
        .sidebar { width: 250px; height: 100vh; position: fixed; border-right: 1px solid #eee; padding: 20px; display: flex; flex-direction: column; z-index: 1000; background: white; }
        .main-content { margin-left: 250px; padding: 20px; min-height: 100vh; }
        
        /* Navegação */
        .nav-link { color: #666; padding: 10px; border-radius: 8px; margin-bottom: 5px; transition: 0.2s; border: none; background: none; text-align: left; width: 100%; display: block; text-decoration: none; }
        .nav-link:hover { background-color: #f0f0f0; color: var(--navy); }
        .nav-link.active { background-color: var(--navy); color: white !important; }
        
        /* Títulos de Seção */
        .section-title { font-size: 0.75rem; font-weight: bold; color: #aaa; text-transform: uppercase; margin-top: 20px; margin-bottom: 10px; }
        
        /* Botão de Sair Customizado */
        .btn-logout { color: #dc3545; font-weight: 600; text-decoration: none; padding: 10px; border-radius: 8px; transition: 0.2s; border: none; background: none; text-align: left; }
        .btn-logout:hover { background-color: #fff5f5; color: #a71d2a; }

        /* Ajustes para o Summernote não quebrar o layout */
        .note-editor { margin-bottom: 20px; border-radius: 12px !important; }
    </style>
</head>
<body>
    <div class="sidebar">
        <a href="{% url 'meus_planos' %}" class="mb-4 d-block">
            <img src="https://via.placeholder.com/150x40?text=AULA+CONNECT" alt="Logo">
        </a>
        
        <p class="section-title">Planejamento</p>
        <a href="#" class="nav-link"><i class="bi bi-grid me-2"></i> Todos</a>
        <a href="{% url 'meus_planos' %}" class="nav-link {% if request.resolver_match.url_name == 'meus_planos' or request.resolver_match.url_name == 'criar_plano' %}active{% endif %}">
            <i class="bi bi-journal-text me-2"></i> Meus Planos de Aula
        </a>
        <a href="{% url 'modelos_planos' %}" class="nav-link {% if request.resolver_match.url_name == 'modelos_planos' %}active{% endif %}">
            <i class="bi bi-layers me-2"></i> Modelos
        </a>
        
        <p class="section-title">Área do Professor</p>
        <a href="#" class="nav-link"><i class="bi bi-person me-2"></i> Meu Perfil</a>
        
        <form action="{% url 'logout' %}" method="post" style="margin-top: auto;">
            {% csrf_token %}
            <button type="submit" class="btn-logout w-100">
                <i class="bi bi-box-arrow-right me-2"></i> Sair
            </button>
        </form>
    </div>

    <div class="main-content">
        <nav class="d-flex justify-content-end mb-4">
            <div class="d-flex align-items-center bg-light px-3 py-2 rounded-pill shadow-sm">
                <span class="me-3 fw-bold text-dark">{{ user.nome|default:user.username }}</span>
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed={{ user.username }}" class="rounded-circle" width="35" height="35">
            </div>
        </nav>

        {% block content %}{% endblock %}
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>